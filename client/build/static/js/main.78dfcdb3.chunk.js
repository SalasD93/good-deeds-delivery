(this["webpackJsonpgood-deeds-delivery-client"]=this["webpackJsonpgood-deeds-delivery-client"]||[]).push([[0],{203:function(e,t){},226:function(e,t,n){},238:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(87),i=n.n(c),r=(n(226),n(13)),o=n(31),s=n(11),d=n(206),l=n(259),j=n(261),u=n(257),h=n(204),p=n(10),b=n(208),O=n(196),x=n(25),m="UPDATE_PRODUCTS",g="ADD_TO_CART",f="ADD_MULTIPLE_TO_CART",v="REMOVE_FROM_CART",w="UPDATE_CART_QUANTITY",y="TOGGLE_CART",k="UPDATE_CATEGORIES",_="UPDATE_CURRENT_CATEGORY",C=function(e,t){switch(t.type){case m:return Object(r.a)(Object(r.a)({},e),{},{products:Object(x.a)(t.products)});case k:return Object(r.a)(Object(r.a)({},e),{},{categories:Object(x.a)(t.categories)});case _:return Object(r.a)(Object(r.a)({},e),{},{currentCategory:t.currentCategory});case g:return Object(r.a)(Object(r.a)({},e),{},{cartOpen:!0,cart:[].concat(Object(x.a)(e.cart),[t.product])});case f:return Object(r.a)(Object(r.a)({},e),{},{cart:[].concat(Object(x.a)(e.cart),Object(x.a)(t.products))});case w:return Object(r.a)(Object(r.a)({},e),{},{cartOpen:!0,cart:e.cart.map((function(e){return t._id===e._id&&(e.purchaseQuantity=t.purchaseQuantity),e}))});case v:var n=e.cart.filter((function(e){return e._id!==t._id}));return Object(r.a)(Object(r.a)({},e),{},{cartOpen:n.length>0,cart:n});case"CLEAR_CART":return Object(r.a)(Object(r.a)({},e),{},{cartOpen:!1,cart:[]});case y:return Object(r.a)(Object(r.a)({},e),{},{cartOpen:!e.cartOpen});default:return e}};var N,E,T,S,I,z,D=n(1),F=["value"],P=Object(a.createContext)(),R=P.Provider,$=function(e){e.value;var t,n=Object(O.a)(e,F),c=(t={products:[],cart:[],cartOpen:!1,categories:[],currentCategory:""},Object(a.useReducer)(C,t)),i=Object(p.a)(c,2),o=i[0],s=i[1];return Object(D.jsx)(R,Object(r.a)({value:[o,s]},n))},A=function(){return Object(a.useContext)(P)},Q=n(19),L=n(260),U=Object(L.a)(N||(N=Object(Q.a)(["\n  query getProducts($category: ID) {\n    products(category: $category) {\n      _id\n      name\n      description\n      price\n      quantity\n      image\n      category {\n        _id\n      }\n    }\n  }\n"]))),G=Object(L.a)(E||(E=Object(Q.a)(["\n  query getCheckout($products: [ID]!) {\n    checkout(products: $products) {\n      session\n    }\n  }\n"]))),q=(Object(L.a)(T||(T=Object(Q.a)(["\n  {\n    products {\n      _id\n      name\n      description\n      price\n      quantity\n      category {\n        name\n      }\n    }\n  }\n"]))),Object(L.a)(S||(S=Object(Q.a)(["\n  {\n    categories {\n      _id\n      name\n    }\n  }\n"])))),Y=Object(L.a)(I||(I=Object(Q.a)(["\n  {\n    user {\n      firstName\n      lastName\n      zipCode\n      orders {\n        _id\n        purchaseDate\n        products {\n          _id\n          name\n          description\n          price\n          quantity\n          image\n        }\n      }\n    }\n  }\n"])));Object(L.a)(z||(z=Object(Q.a)(["\n  {\n    users {\n      _id\n      firstName\n      lastName\n      email\n      zipCode\n      latitude\n      longitude\n    }\n  }\n"])));function B(e,t){return 1===t?e:e+"s"}function H(e,t,n){return new Promise((function(a,c){var i,r,o,s=window.indexedDB.open("good-deeds-delivery",1);s.onupgradeneeded=function(e){var t=s.result;t.createObjectStore("products",{keyPath:"_id"}),t.createObjectStore("categories",{keyPath:"_id"}),t.createObjectStore("cart",{keyPath:"_id"})},s.onerror=function(e){console.log("There was an error")},s.onsuccess=function(c){switch(i=s.result,r=i.transaction(e,"readwrite"),o=r.objectStore(e),i.onerror=function(e){console.log("error",e)},t){case"put":o.put(n),a(n);break;case"get":var d=o.getAll();d.onsuccess=function(){a(d.result)};break;case"delete":o.delete(n._id);break;default:console.log("No valid method")}r.oncomplete=function(){i.close()}}}))}var M,V,J,Z,K,W=n(27),X=W.a.div(M||(M=Object(Q.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    margin-top: 2%!important;\n    margin-bottom: 2%!important;\n    width: 100%;\n\n    @media (max-width: 415px) {\n        margin-top: 3%!important;\n    }\n"]))),ee=W.a.h2(V||(V=Object(Q.a)(["\n    color: var(--main-text-color);\n\n    @media (max-width: 1025px) {\n        font-size: 30px;\n    }\n    @media (max-width: 769px) {\n        font-size: 25px;\n    }\n    @media (max-width: 415px) {\n        font-size: 20px;\n    }\n    @media (max-width: 415px) {\n        font-size: 16px;\n    }\n"]))),te=W.a.div(J||(J=Object(Q.a)(["\n    display: flex;\n    justify-content: center;\n    width: 90vw;\n    height: 50px;\n    overflow: hidden;\n    white-space: nowrap;\n\n    &:hover {\n        overflow: auto;\n    }\n\n    @media (max-width: 1025px) {\n        height: 70px;\n    }\n    @media (max-width: 769px) {\n        height: 55px;\n        overflow: auto;\n    }\n    @media (max-width: 376px) {\n        height: 50px;\n    }\n"]))),ne=W.a.div(Z||(Z=Object(Q.a)(["\n    width: 90vw;\n    height: 40px;\n\n    @media (max-width: 1025px) {\n        height: 60px;\n    }\n    @media (max-width: 769px) {\n        height: 40px;\n    }\n"]))),ae=W.a.button(K||(K=Object(Q.a)(["\n    display: inline-block;\n    width: 20%;\n    height: 90%;\n    background-color: var(--tertiary-background-color);\n    color: var(--secondary-text-color);\n    font-size: 16px;\n    font-weight: bolder;\n\n    @media (max-width: 1025px) {\n        width: 25%;\n        font-size: 20px;\n    }\n    @media (max-width: 769px) {\n        width: 34%;\n        font-size: 18px;\n    }\n    @media (max-width: 415px) {\n        width: 50%;\n        font-size: 15px;\n    }\n    @media (max-width: 376px) {\n        font-size: 12px;\n    }\n"])));var ce,ie,re=function(){var e=A(),t=Object(p.a)(e,2),n=t[0],c=t[1],i=n.categories,r=Object(b.b)(q),o=r.loading,s=r.data;return Object(a.useEffect)((function(){s?(c({type:k,categories:s.categories}),s.categories.forEach((function(e){H("categories","put",e)}))):o||H("categories","get").then((function(e){c({type:k,categories:e})}))}),[s,o,c]),Object(D.jsxs)(X,{children:[Object(D.jsx)(ee,{children:"CATEGORIES"}),Object(D.jsx)(te,{children:Object(D.jsx)(ne,{children:i.map((function(e){return Object(D.jsx)(ae,{onClick:function(){var t;t=e._id,c({type:_,currentCategory:t})},children:e.name},e._id)}))})})]})},oe=n(117),se=n(264),de=n(207),le=n(263),je=W.a.div(ce||(ce=Object(Q.a)(["\n    display: inline-block;\n    margin: 1%;\n"]))),ue=W.a.div(ie||(ie=Object(Q.a)(["\n    float: right;\n"])));var he,pe,be=function(e){var t=A(),n=Object(p.a)(t,2),a=n[0],c=n[1],i=e.image,s=e.name,d=e._id,l=e.price,j=e.quantity,u=a.cart,h=Object(D.jsxs)("div",{children:[Object(D.jsx)(oe.a,{name:"coffee"}),Object(D.jsxs)("span",{children:[" ",j," ",B("item",j)," in stock"]}),Object(D.jsx)(ue,{children:Object(D.jsx)(se.a,{onClick:function(){var t=u.find((function(e){return e._id===d}));t?(c({type:w,_id:d,purchaseQuantity:parseInt(t.purchaseQuantity)+1}),H("cart","put",Object(r.a)(Object(r.a)({},t),{},{purchaseQuantity:parseInt(t.purchaseQuantity)+1}))):(c({type:g,product:Object(r.a)(Object(r.a)({},e),{},{purchaseQuantity:1})}),H("cart","put",Object(r.a)(Object(r.a)({},e),{},{purchaseQuantity:1})))},children:"Add to cart"})})]}),b=Object(D.jsx)(o.b,{to:"/products/".concat(d),wrapped:"true",ui:"true",children:Object(D.jsx)(de.a,{alt:s,src:"/images/".concat(i)})});return Object(D.jsx)(je,{children:Object(D.jsx)(le.a,{header:s,extra:h,image:b,meta:l})})},Oe=n.p+"static/media/spinner.689d9a07.gif",xe=W.a.h2(he||(he=Object(Q.a)(["\n    text-align: center;\n    margin-left: 4%;\n    margin-right: 4%;\n    padding-top: 1%;\n    padding-bottom: 1%;\n    font-size: 25px;\n    font-weight: bolder;\n    background-color: #04b577;\n    border-radius: 5px;\n\n    @media (max-width: 1025px) {\n        margin-left: 3%;\n        margin-right: 3%;\n        padding-top: 2%;\n        padding-bottom: 2%;\n        font-size: 30px;\n    }\n    @media (max-width: 769px) {\n        margin-left: 5%;\n        margin-right: 5%;\n        padding-top: 1.5%;\n        padding-bottom: 1.5%;\n        font-size: 25px;\n    }\n    @media (max-width: 415px) {\n        margin-left: 10%;\n        margin-right: 10%;\n        padding-top: 2%;\n        padding-bottom: 2%;\n        font-size: 20px;\n    }\n    @media (max-width: 376px) {\n        margin-left: 8%;\n        margin-right: 8%;\n    }\n"]))),me=W.a.div(pe||(pe=Object(Q.a)(["\n    display: flex;\n    flex-direction: row;\n    flex-wrap: wrap;\n    justify-content: space-evenly;\n    width: 100%;\n"])));var ge=function(){var e=A(),t=Object(p.a)(e,2),n=t[0],c=t[1],i=n.currentCategory,r=Object(b.b)(U),o=r.loading,s=r.data;return Object(a.useEffect)((function(){s?(c({type:m,products:s.products}),s.products.forEach((function(e){H("products","put",e)}))):o||H("products","get").then((function(e){c({type:m,products:e})}))}),[s,o,c]),Object(D.jsxs)("div",{children:[Object(D.jsx)(xe,{children:"OUR PRODUCTS"}),n.products.length?Object(D.jsx)(me,{children:(i?n.products.filter((function(e){return e.category._id===i})):n.products).map((function(e){return Object(D.jsx)(be,{_id:e._id,image:e.image,name:e.name,price:e.price,quantity:e.quantity},e._id)}))}):Object(D.jsx)("h3",{children:"You haven't added any products yet!"}),o?Object(D.jsx)("img",{src:Oe,alt:"loading"}):null]})},fe=n(262),ve=n(266);var we,ye,ke,_e,Ce,Ne,Ee,Te=function(){var e=Object(a.useState)(!1),t=Object(p.a)(e,2),n=t[0],c=t[1],i=localStorage.getItem("modalClosed");return Object(a.useEffect)((function(){i||c(!0)}),[]),Object(D.jsxs)(fe.a,{open:n,trigger:window.onload,className:"about-modal",children:[Object(D.jsxs)(fe.a.Description,{className:"about-modal-desc",children:[Object(D.jsx)(ve.a,{children:"About this site"}),Object(D.jsx)("p",{children:"This application allows the eldery and disabled to submit grocery orders for pickup, and allows citizens in the local community to volunteer their time to pick up the orders and drop them off. This is to allow those with fixed income to avoid excessive delivery charges."})]}),Object(D.jsx)(fe.a.Actions,{children:Object(D.jsxs)(se.a,{color:"green",onClick:function(){return c(!1),localStorage.setItem("modalClosed","true")},children:[Object(D.jsx)(oe.a,{name:"checkmark"})," Okay"]})})]})},Se=n(15),Ie=n(26),ze=n(202),De=n(254),Fe=function(e){var t=e.item,n=A(),a=Object(p.a)(n,2)[1];return Object(D.jsxs)("div",{className:"flex-row",children:[Object(D.jsx)("div",{children:Object(D.jsx)("img",{src:"/images/".concat(t.image),alt:""})}),Object(D.jsxs)("div",{children:[Object(D.jsxs)("div",{children:[t.name,", $",t.price]}),Object(D.jsxs)("div",{children:[Object(D.jsx)("span",{children:"Qty:"}),Object(D.jsx)("input",{type:"number",placeholder:"1",value:t.purchaseQuantity,onChange:function(e){var n=e.target.value;"0"===n?(a({type:v,_id:t._id}),H("cart","delete",Object(r.a)({},t))):(a({type:w,_id:t._id,purchaseQuantity:parseInt(n)}),H("cart","put",Object(r.a)(Object(r.a)({},t),{},{purchaseQuantity:parseInt(n)})))}}),Object(D.jsx)("span",{role:"img","aria-label":"trash",onClick:function(){return function(e){a({type:v,_id:e._id}),H("cart","delete",Object(r.a)({},e))}(t)},children:"\ud83d\uddd1\ufe0f"})]})]})]})},Pe=n(29),Re=n(30),$e=n(176),Ae=new(function(){function e(){Object(Pe.a)(this,e)}return Object(Re.a)(e,[{key:"getProfile",value:function(){return Object($e.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object($e.a)(e).exp<Date.now()/1e3}catch(t){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),Qe=n.p+"static/media/logo.91198a48.png",Le=Object(ze.a)("pk_test_TYooMQauvdEDq54NiTphI7jx"),Ue=function(){var e=A(),t=Object(p.a)(e,2),n=t[0],c=t[1],i=Object(De.a)(G),r=Object(p.a)(i,2),o=r[0],s=r[1].data;function d(){c({type:y})}return Object(a.useEffect)((function(){s&&Le.then((function(e){e.redirectToCheckout({sessionId:s.checkout.session})}))}),[s]),Object(a.useEffect)((function(){function e(){return(e=Object(Ie.a)(Object(Se.a)().mark((function e(){var t;return Object(Se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("cart","get");case 2:t=e.sent,c({type:f,products:Object(x.a)(t)});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.cart.length||function(){e.apply(this,arguments)}()}),[n.cart.length,c]),n.cartOpen?Object(D.jsxs)("div",{className:"cart",children:[Object(D.jsx)("div",{className:"close",onClick:d,children:"[close]"}),Object(D.jsx)("h2",{children:"Shopping Cart"}),n.cart.length?Object(D.jsxs)("div",{children:[n.cart.map((function(e){return Object(D.jsx)(Fe,{item:e},e._id)})),Object(D.jsxs)("div",{className:"flex-row space-between",children:[Object(D.jsxs)("strong",{children:["Total: $",function(){var e=0;return n.cart.forEach((function(t){e+=t.price*t.purchaseQuantity})),e.toFixed(2)}()]}),Ae.loggedIn()?Object(D.jsx)("button",{onClick:function(){var e=[];n.cart.forEach((function(t){for(var n=0;n<t.purchaseQuantity;n++)e.push(t._id)})),o({variables:{products:e}})},children:"Checkout"}):Object(D.jsx)("span",{children:"(log in to check out)"})]})]}):Object(D.jsx)("h3",{children:"You haven't added anything to your cart yet!"})]}):Object(D.jsx)("div",{className:"cart-closed",onClick:d,children:Object(D.jsx)("img",{src:Qe,className:"cart-icon",alt:"Cart icon"})})},Ge=function(){var e,t=Object(b.b)(Y).data;return t&&(e=t.user),Object(D.jsxs)("div",{children:[e?Object(D.jsxs)("p",{className:"location-p",children:["Your Location: ",Object(D.jsx)("span",{children:e.zipCode})]}):null,Object(D.jsx)(Te,{}),Object(D.jsx)(re,{}),Object(D.jsx)(ge,{}),Object(D.jsx)(Ue,{})]})},qe=n(24),Ye=n(255),Be=Object(L.a)(we||(we=Object(Q.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),He=Object(L.a)(ye||(ye=Object(Q.a)(["\n  mutation addOrder($products: [ID]!) {\n    addOrder(products: $products) {\n      purchaseDate\n      products {\n        _id\n        name\n        description\n        price\n        quantity\n        category {\n          name\n        }\n      }\n    }\n  }\n"]))),Me=Object(L.a)(ke||(ke=Object(Q.a)(["\n  mutation addUser(\n    $firstName: String!\n    $lastName: String!\n    $email: String!\n    $password: String!\n    $zipCode: String!\n  ) {\n    addUser(\n      firstName: $firstName\n      lastName: $lastName\n      email: $email\n      password: $password\n      zipCode: $zipCode\n    ) {\n      token\n      user {\n        _id\n      }\n    }\n  }\n"]))),Ve=n(258),Je=W.a.div(_e||(_e=Object(Q.a)(["\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 100%;\n    margin-top: 5%;\n    color: var(--main-text-color);\n"]))),Ze=W.a.h2(Ce||(Ce=Object(Q.a)(["\n    align-self: center;\n    text-decoration: underline;\n"]))),Ke=W.a.div(Ne||(Ne=Object(Q.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 30%;\n    background-color: var(--secondary-background-color);\n    padding: 20px 30px;\n    border-radius: 20px;\n\n    @media (max-width: 1025px) {\n        width: 60%;\n        height: 40vh;\n        justify-content: space-around;\n    }\n    @media (max-width: 769px) {\n        margin-top: 5%;\n        width: 80%;\n        height: 50vh;\n    }\n    @media (max-width: 415px) {\n        width: 90%;\n        height: 75vh;\n        justify-content: center;\n    }\n"]))),We=W.a.div(Ee||(Ee=Object(Q.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 30%;\n    background-color: var(--secondary-background-color);\n    padding: 20px 30px;\n    border-radius: 20px;\n\n    @media (max-width: 1025px) {\n        width: 60%;\n        height: 25vh;\n        justify-content: space-around;\n    }\n    @media (max-width: 769px) {\n        margin-top: 5%;\n        width: 80%;\n        height: 32vh;\n    }\n    @media (max-width: 415px) {\n        width: 90%;\n        height: 40vh;\n    }\n"])));var Xe=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(p.a)(t,2),c=n[0],i=n[1],s=Object(Ye.a)(Be),d=Object(p.a)(s,2),l=d[0],j=d[1].error,u=function(){var e=Object(Ie.a)(Object(Se.a)().mark((function e(t){var n,a;return Object(Se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,l({variables:{email:c.email,password:c.password}});case 4:n=e.sent,a=n.data.login.token,Ae.login(a),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target,n=t.name,a=t.value;i(Object(r.a)(Object(r.a)({},c),{},Object(qe.a)({},n,a)))};return Object(D.jsxs)("div",{children:[Object(D.jsx)(o.b,{to:"/signup",children:Object(D.jsx)(se.a,{children:"\u2190 Go to Signup"})}),Object(D.jsx)(Je,{children:Object(D.jsxs)(We,{children:[Object(D.jsx)(Ze,{children:"LOGIN"}),Object(D.jsxs)(Ve.a,{onSubmit:u,children:[Object(D.jsxs)(Ve.a.Field,{children:[Object(D.jsx)("label",{htmlFor:"email",children:"Email address:"}),Object(D.jsx)("input",{placeholder:"youremail@test.com",name:"email",type:"email",id:"email",onChange:h})]}),Object(D.jsxs)(Ve.a.Field,{children:[Object(D.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(D.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:h})]}),j?Object(D.jsx)("div",{children:Object(D.jsx)("p",{children:"The provided credentials are incorrect"})}):null,Object(D.jsx)("div",{children:Object(D.jsx)(se.a,{type:"submit",children:"Submit"})})]})]})})]})};var et,tt,nt,at,ct,it,rt,ot=function(e){var t=Object(a.useState)({email:"",password:""}),n=Object(p.a)(t,2),c=n[0],i=n[1],s=Object(Ye.a)(Me),d=Object(p.a)(s,2),l=d[0],j=d[1].error,u=function(){var e=Object(Ie.a)(Object(Se.a)().mark((function e(t){var n,a;return Object(Se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,l({variables:{email:c.email,password:c.password,firstName:c.firstName,lastName:c.lastName,zipCode:c.zipCode}});case 3:n=e.sent,a=n.data.addUser.token,Ae.login(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e){var t=e.target,n=t.name,a=t.value;i(Object(r.a)(Object(r.a)({},c),{},Object(qe.a)({},n,a)))};return Object(D.jsxs)("div",{children:[Object(D.jsx)(o.b,{to:"/login",children:Object(D.jsx)(se.a,{children:"\u2190 Go to Login"})}),Object(D.jsx)(Je,{children:Object(D.jsxs)(Ke,{children:[Object(D.jsx)(Ze,{children:"SIGNUP"}),Object(D.jsxs)(Ve.a,{onSubmit:u,children:[Object(D.jsxs)(Ve.a.Field,{children:[Object(D.jsx)("label",{htmlFor:"firstName",children:"First Name:"}),Object(D.jsx)("input",{placeholder:"First Name",name:"firstName",onChange:h})]}),Object(D.jsxs)(Ve.a.Field,{children:[Object(D.jsx)("label",{htmlFor:"lastName",children:"Last Name:"}),Object(D.jsx)("input",{placeholder:"Last Name",name:"lastName",onChange:h})]}),Object(D.jsxs)(Ve.a.Field,{children:[Object(D.jsx)("label",{htmlFor:"email",children:"Email:"}),Object(D.jsx)("input",{placeholder:"youremail@domain.com",name:"email",type:"email",id:"email",onChange:h})]}),Object(D.jsxs)(Ve.a.Field,{children:[Object(D.jsx)("label",{htmlFor:"pwd",children:"Password:"}),Object(D.jsx)("input",{placeholder:"******",name:"password",type:"password",id:"pwd",onChange:h})]}),Object(D.jsxs)(Ve.a.Field,{children:[Object(D.jsx)("label",{htmlFor:"zipCode",children:"Zip Code:"}),Object(D.jsx)("input",{placeholder:"12345",name:"zipCode",id:"zipCode",onChange:h})]}),j?Object(D.jsx)("div",{children:Object(D.jsx)("p",{className:"zip-p",children:"The Zip code must be 5 characters."})}):null,Object(D.jsx)("div",{children:Object(D.jsx)(se.a,{type:"submit",children:"SIGNUP"})})]})]})})]})},st=W.a.header(et||(et=Object(Q.a)(["\n    display: flex;\n    flex-direction: row;\n    position: relative;\n    align-content: center;\n    justify-content: space-between;\n    padding: .5rem;\n    background-color: #04b577!important;\n    font-weight: bolder;\n\n    @media (max-width: 1025px) {\n        flex-direction: column;\n    }\n"]))),dt=W.a.div(tt||(tt=Object(Q.a)(["\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    justify-content: space-around;\n    width: 350px;\n    height: 7vh;\n    background-color: var(--secondary-text-color);\n    border-radius: 15px;\n\n    @media (max-width: 1025px) {\n        width: 100%;\n        justify-content: center;\n        height: 8vh;\n    }\n"]))),lt=W.a.h1(nt||(nt=Object(Q.a)(["\n    margin-top: 0!important;\n    margin-right: 2px;\n    color: var(--main-text-color);\n    font-size: 2rem!important;\n\n    @media (max-width: 1025px) {\n        font-size: 5rem;\n    }\n    @media (max-width: 769px) {\n        font-size: 4rem;\n    }\n    @media (max-width: 415px) {\n        font-size: 2rem;\n    }\n"]))),jt=W.a.img(at||(at=Object(Q.a)(["\n    width: 70px;\n    height: 5vh;\n    margin-top: 2%;\n    border-top-left-radius: 15px;\n    border-bottom-left-radius: 15px;\n\n    @media (max-width: 1025px) {\n        margin-top: 0;\n        padding-right: .5rem;\n        height: 4vh;\n    }\n    @media (max-width: 769px) {\n        height: auto;\n    }\n    @media (max-width: 415px) {\n        width: 50px;\n        border-radius: 0;\n    }\n"]))),ut=W.a.nav(ct||(ct=Object(Q.a)(["\n    height: 7vh;\n\n    @media (max-width: 1025px) {\n        height: 5vh;\n    }\n    @media (max-width: 769px) {\n        height: 6vh;\n        margin-top: 10px;\n    }\n    @media (max-width: 415px) {\n        margin-top: 5px;\n    }\n"]))),ht=W.a.ul(it||(it=Object(Q.a)(["\n    list-style-type: none;\n    display: flex;\n    flex-direction: row;\n    justify-content: space-around;\n    align-items: start;\n    padding-left: 0;\n    width: 50vw;\n    margin: 0;\n    height: 100%;\n\n    @media (max-width: 1025px) {\n        width: 100%;\n    }\n"]))),pt=W.a.li(rt||(rt=Object(Q.a)(["\n    font-size: 16px;\n    font-weight: bolder;\n    width: 150px;\n    display: block;\n    text-align: center;\n    height: 100%;\n    padding-top: 1.5rem;\n    color: var(--secondary-text-color);\n\n    &:hover {\n        background-color: #32cf98;\n        border-radius: 20px;\n    }\n\n    @media (max-width: 1025px) {\n        padding-top: 3%;\n        font-size: 25px;\n        width: 200px;\n    }\n    @media (max-width: 415px) {\n        font-size: 15px;\n        padding-top: 1rem;\n    }\n    @media (max-width: 376px) {\n        padding-top: .75rem;\n    }\n"])));var bt=function(){return Object(D.jsxs)(st,{children:[Object(D.jsxs)(dt,{children:[Object(D.jsx)(jt,{src:Qe,alt:"GOOD DEEDS DELIVERY LOGO"}),Object(D.jsx)(lt,{children:Object(D.jsx)(o.b,{to:"/",onClick:"window.location.reload();",children:"Good Deeds Delivery"})})]}),Object(D.jsx)(ut,{children:Ae.loggedIn()?Object(D.jsxs)(ht,{children:[Object(D.jsx)(pt,{children:Object(D.jsx)(o.b,{to:"/",onClick:"window.location.reload();",children:"HOME"})}),Object(D.jsx)(pt,{children:Object(D.jsx)(o.b,{to:"/orderHistory",children:"ORDER HISTORY"})}),Object(D.jsx)(pt,{children:Object(D.jsx)("a",{href:"/map",children:"DELIVERY"})}),Object(D.jsx)(pt,{children:Object(D.jsx)("a",{href:"/",onClick:function(){return Ae.logout()},children:"LOGOUT"})})]}):Object(D.jsxs)(ht,{children:[Object(D.jsx)(pt,{children:Object(D.jsx)(o.b,{to:"/",onClick:"window.location.reload();",children:"HOME"})}),Object(D.jsx)(pt,{children:Object(D.jsx)(o.b,{to:"/login",children:"LOGIN"})}),Object(D.jsx)(pt,{children:Object(D.jsx)(o.b,{to:"/signup",children:"SIGNUP"})})]})})]})};var Ot=function(){var e=A(),t=Object(p.a)(e,2),n=t[0],c=t[1],i=Object(s.n)().id,d=Object(a.useState)({}),l=Object(p.a)(d,2),j=l[0],u=l[1],h=Object(b.b)(U),O=h.loading,x=h.data,f=n.products,y=n.cart;return Object(a.useEffect)((function(){f.length?u(f.find((function(e){return e._id===i}))):x?(c({type:m,products:x.products}),x.products.forEach((function(e){H("products","put",e)}))):O||H("products","get").then((function(e){c({type:m,products:e})}))}),[f,x,O,c,i]),Object(D.jsxs)(D.Fragment,{children:[j&&y?Object(D.jsxs)("div",{className:"container my-1",children:[Object(D.jsx)(o.b,{to:"/",children:"\u2190 Back to Products"}),Object(D.jsx)("h2",{children:j.name}),Object(D.jsx)("p",{children:j.description}),Object(D.jsxs)("p",{children:[Object(D.jsx)("strong",{children:"Price:"}),"$",j.price," ",Object(D.jsx)("button",{onClick:function(){var e=y.find((function(e){return e._id===i}));e?(c({type:w,_id:i,purchaseQuantity:parseInt(e.purchaseQuantity)+1}),H("cart","put",Object(r.a)(Object(r.a)({},e),{},{purchaseQuantity:parseInt(e.purchaseQuantity)+1}))):(c({type:g,product:Object(r.a)(Object(r.a)({},j),{},{purchaseQuantity:1})}),H("cart","put",Object(r.a)(Object(r.a)({},j),{},{purchaseQuantity:1})))},children:"Add to Cart"}),Object(D.jsx)("button",{disabled:!y.find((function(e){return e._id===j._id})),onClick:function(){c({type:v,_id:j._id}),H("cart","delete",Object(r.a)({},j))},children:"Remove from Cart"})]}),Object(D.jsx)("img",{src:"/images/".concat(j.image),alt:j.name})]}):null,O?Object(D.jsx)("img",{src:Oe,alt:"loading"}):null,Object(D.jsx)(Ue,{})]})};var xt=function(e){var t=e.children;return Object(D.jsx)("div",{style:{height:560,clear:"both",paddingTop:120,textAlign:"center"},children:t})};var mt=function(){var e=Object(Ye.a)(He),t=Object(p.a)(e,1)[0];return Object(a.useEffect)((function(){function e(){return(e=Object(Ie.a)(Object(Se.a)().mark((function e(){var n,a,c,i;return Object(Se.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H("cart","get");case 2:if(n=e.sent,!(a=n.map((function(e){return e._id}))).length){e.next=11;break}return e.next=7,t({variables:{products:a}});case 7:c=e.sent,i=c.data,i.addOrder.products.forEach((function(e){H("cart","delete",e)}));case 11:setTimeout((function(){window.location.assign("/")}),3e3);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),Object(D.jsx)("div",{children:Object(D.jsxs)(xt,{children:[Object(D.jsx)("h1",{children:"Success!"}),Object(D.jsx)("h2",{children:"Thank you for your purchase!"}),Object(D.jsx)("h2",{children:"You will now be redirected to the home page"})]})})};var gt=function(){var e,t=Object(b.b)(Y).data;return t&&(e=t.user),Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)("div",{className:"container my-1",children:[Object(D.jsx)(o.b,{to:"/",children:"\u2190 Back to Products"}),e?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsxs)("h2",{children:["Order History for ",e.firstName," ",e.lastName]}),e.orders.map((function(e){return Object(D.jsxs)("div",{className:"my-2",children:[Object(D.jsx)("h3",{children:new Date(parseInt(e.purchaseDate)).toLocaleDateString()}),Object(D.jsx)("div",{className:"flex-row",children:e.products.map((function(e,t){var n=e._id,a=e.image,c=e.name,i=e.price;return Object(D.jsxs)("div",{className:"card px-1 py-1",children:[Object(D.jsxs)(o.b,{to:"/products/".concat(n),children:[Object(D.jsx)("img",{alt:c,src:"/images/".concat(a)}),Object(D.jsx)("p",{children:c})]}),Object(D.jsx)("div",{children:Object(D.jsxs)("span",{children:["$",i]})})]},t)}))})]},e._id)}))]}):null]})})},ft=n(203),vt=n.n(ft),wt=function(){return Object(D.jsx)("div",{children:Object(D.jsx)(xt,{children:Object(D.jsx)("h1",{children:"404 Page Not Found"})})})},yt=Object(d.a)({uri:"/graphql"}),kt=Object(h.a)((function(e,t){var n=t.headers,a=localStorage.getItem("id_token");return{headers:Object(r.a)(Object(r.a)({},n),{},{authorization:a?"Bearer ".concat(a):""})}})),_t=new l.a({link:kt.concat(yt),cache:new j.a});var Ct=function(){return Object(D.jsx)(u.a,{client:_t,children:Object(D.jsx)(o.a,{children:Object(D.jsx)("div",{children:Object(D.jsxs)($,{children:[Object(D.jsx)(bt,{}),Object(D.jsxs)(s.c,{children:[Object(D.jsx)(s.a,{exact:!0,path:"/",element:Object(D.jsx)(Ge,{})}),Object(D.jsx)(s.a,{exact:!0,path:"/login",element:Object(D.jsx)(Xe,{})}),Object(D.jsx)(s.a,{exact:!0,path:"/signup",element:Object(D.jsx)(ot,{})}),Object(D.jsx)(s.a,{exact:!0,path:"/products/:id",element:Object(D.jsx)(Ot,{})}),Object(D.jsx)(s.a,{exact:!0,path:"/success",element:Object(D.jsx)(mt,{})}),Object(D.jsx)(s.a,{exact:!0,path:"/orderHistory",element:Object(D.jsx)(gt,{})}),Object(D.jsx)(s.a,{exact:!0,path:"/map",element:Object(D.jsx)(vt.a,{})}),Object(D.jsx)(s.a,{element:Object(D.jsx)(wt,{})})]})]})})})})},Nt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,269)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};n(237);i.a.render(Object(D.jsx)(Ct,{}),document.getElementById("root")),Nt()}},[[238,1,2]]]);
//# sourceMappingURL=main.78dfcdb3.chunk.js.map